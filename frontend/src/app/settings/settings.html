<h1 class="title">Settings</h1>

<button type="button" class="new-button" (click)="openNewEventModal()" aria-label="Create new event">New</button>
<br />
<br />
<button type="button" class="toggle-all-events" (click)="toggleShowEvents()" [attr.aria-expanded]="showAllEvents">
	{{ toggleEventsButtonText }}
</button>
<br />
@if (showAllEvents) {
	<app-all-events-view
		[allEventsData]="allEventsData"
		(onEventClick)="openEventEditModal($event)"
	/>
}

@if (isEventFormModalOpen) {
	<app-modal (onClose)="closeNewEventModal()" [width]="'60vw'" [height]="'60vh'">
		<app-event-form
			[initialData]="eventFormModalInitialData"
			[isEdit]="eventFormModalIsEdit"
		></app-event-form>
	</app-modal>
}

@if (allEventsDataQuery.isError()) {
	<p class="error">
		{{ allEventsDataQuery.error().stack || allEventsDataQuery.error().message }}
	</p>
}
